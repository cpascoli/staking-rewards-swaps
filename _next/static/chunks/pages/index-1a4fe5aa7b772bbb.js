(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(n,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(6227)}])},3111:function(n,e,r){"use strict";r.d(e,{LA:function(){return o},Qc:function(){return k},V9:function(){return l},Wf:function(){return c},ZV:function(){return j},dQ:function(){return x},hf:function(){return m},hh:function(){return p},jv:function(){return f},kH:function(){return w},oV:function(){return v},wn:function(){return h}});var t=r(9279),i=r(4627),a=r(391),d=r(5811),s=r(7979).m4.chainId,o=function(n,e){var r,t=(null!==(r=(0,i.W)({contract:(0,d.sJ)(s),method:"canWithdraw",args:n?[n,e]:[0,!1]}))&&void 0!==r?r:{}).value;return t&&t[0]},u=function(){var n,e=(null!==(n=(0,i.W)({contract:(0,d.sJ)(s),method:"getSwaps",args:[]}))&&void 0!==n?n:{}).value;return null===e||void 0===e?void 0:e[0].map((function(n){return g(n)}))},c=function(){var n;return null===(n=u())||void 0===n?void 0:n.filter((function(n){return void 0===n.taker.user}))},l=function(){var n;return null===(n=u())||void 0===n?void 0:n.filter((function(n){return void 0!==n.taker.user}))},f=function(n){var e,r=(null!==(e=(0,i.W)({contract:(0,d.sJ)(s),method:"getSwap",args:[n]}))&&void 0!==e?e:{}).value,t=null===r||void 0===r?void 0:r[0];return t?g(t):void 0},h=function(n){var e,r=(null!==(e=(0,i.W)({contract:(0,d.sJ)(s),method:"canSettle",args:[n]}))&&void 0!==e?e:{}).value;return[null===r||void 0===r?void 0:r[0],null===r||void 0===r?void 0:r[1]]},v=function(n){var e,r=(null!==(e=(0,i.W)({contract:(0,d.sJ)(s),method:"previewRewards",args:n?[n]:[0]}))&&void 0!==e?e:{}).value;return[null===r||void 0===r?void 0:r[0],null===r||void 0===r?void 0:r[1]]},x=function(){var n,e=(null!==(n=(0,i.W)({contract:(0,d.sJ)(s),method:"token",args:[]}))&&void 0!==n?n:{}).value;return null===e||void 0===e?void 0:e[0]},j=function(n){var e=(0,d.sJ)(n),r=(0,a.j)(e,"offer",{transactionName:"Offer Swap"}),t=r.send;return{offer:function(n,e,r,i){return t(n,e,r,i)},offerState:r.state}},m=function(n){var e=(0,d.sJ)(n),r=(0,a.j)(e,"take",{transactionName:"Take Swap"}),t=r.send;return{take:function(n){return t(n)},takeState:r.state}},w=function(n){var e=(0,d.sJ)(n),r=(0,a.j)(e,"cancel",{transactionName:"Cancel Swap Offer"}),t=r.send;return{cancel:function(n){return t(n)},cancelState:r.state}},p=function(n){var e=(0,d.sJ)(n),r=(0,a.j)(e,"settle",{transactionName:"Settle"}),t=r.send;return{settle:function(n){return t(n)},settleState:r.state}},k=function(n){var e=(0,d.sJ)(n),r=(0,a.j)(e,"withdraw",{transactionName:"Withdraw"}),t=r.send;return{withdraw:function(n){return t(n)},withdrawState:r.state}},g=function(n){return{id:n.id.toNumber(),maker:S(n.maker),taker:S(n.taker)}},S=function(n){var e=n.user!=t.d;return{user:e?n.user:void 0,createdAt:e?new Date(1e3*n.createdAt.toNumber()):void 0,amount:n.amount,period:n.period.toNumber(),shares:n.shares,isSettled:n.isSettled,totalWithdrawn:n.totalWithdrawn,withdrawal:{unbondNonce:0==n.withdrawal.unbondNonce.toNumber()?void 0:n.withdrawal.unbondNonce.toNumber(),isClaimed:n.withdrawal.isClaimed,amount:0==n.withdrawal.amount.toNumber()?void 0:n.withdrawal.amount}}}},6227:function(n,e,r){"use strict";r.r(e),r.d(e,{default:function(){return y}});var t=r(5893),i=r(9873),a=r.n(i),d=r(6042),s=r(9396),o=r(9534),u=r(603),c=r(7294),l=r(1163),f=r(7495),h=r(3111),v=r(5616),x=r(9417),j=r(5056),m=r(3795),w=r(1435),p=function(n){var e=(0,l.useRouter)(),r=n.offers;return(0,t.jsxs)(j.Z,{children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:"ID"}),(0,t.jsx)("td",{children:"Created At"}),(0,t.jsx)("td",{children:"Swap Offer Info"}),(0,t.jsx)("td",{})]})}),(0,t.jsx)("tbody",{children:r&&r.map((function(n,r){return(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:n.id}),(0,t.jsx)("td",{children:(0,w.p6)(n.maker.createdAt)}),(0,t.jsxs)("td",{children:[(0,w.Bw)(n.maker.amount,2)," MATIC for ",Math.round(n.maker.period/86400)," days \xa0\xa0 \ud83d\udd00   \xa0\xa0",(0,w.Bw)(n.taker.amount,2)," MATIC for ",Math.round(n.taker.period/86400)," days  ",(0,t.jsx)("br",{})]}),(0,t.jsx)("td",{style:{textAlign:"center"},children:(0,t.jsx)(m.Z,{onClick:function(){return e.push("/offer/".concat(n.id))},children:" Details"})})]},r)}))})]})},k=function(){var n,e=(0,l.useRouter)(),r=((0,h.dQ)(),(0,f.K)().account),i=null===(n=(0,h.Wf)())||void 0===n?void 0:n.reverse();if(!i)return(0,t.jsx)(v.Z,{textAlign:"center",sx:{marginTop:10,marginBottom:8},children:"Loading..."});var a=null===i||void 0===i?void 0:i.filter((function(n){return n.maker.user===r})),d=null===i||void 0===i?void 0:i.filter((function(n){return n.maker.user!==r}));return(0,t.jsxs)("div",{children:[a.length>0&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("h2",{children:"My Swap Offers"}),(0,t.jsx)("div",{style:{margin:"auto"},children:(0,t.jsx)(p,{offers:a})})]}),d.length>0&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("h2",{children:a.length>0?"Other Swap Offers":"Swap Offers"}),(0,t.jsx)("div",{style:{margin:"auto"},children:(0,t.jsx)(p,{offers:d})})]}),0===i.length&&(0,t.jsx)(v.Z,{textAlign:"center",children:(0,t.jsx)("h3",{children:"No Offers - Create a new Swap Offer"})}),(0,t.jsx)(v.Z,{sx:{mt:4},textAlign:"center",children:(0,t.jsx)(x.Z,{variant:"contained",onClick:function(){e.push("/new-swap")},children:"New Offer"})})]})},g=function(n){var e=(0,l.useRouter)(),r=n.swaps;return(0,t.jsxs)(j.Z,{children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:"ID"}),(0,t.jsx)("td",{children:"Created At"}),(0,t.jsx)("td",{children:"Taken At"}),(0,t.jsx)("td",{children:"Swap Info"}),(0,t.jsx)("td",{})]})}),(0,t.jsx)("tbody",{children:r&&r.map((function(n,r){return(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:n.id}),(0,t.jsx)("td",{children:(0,w.p6)(n.maker.createdAt)}),(0,t.jsx)("td",{children:n.taker.createdAt&&(0,w.p6)(n.taker.createdAt)}),(0,t.jsxs)("td",{children:[(0,w.Bw)(n.maker.amount,2)," MATIC for ",Math.round(n.maker.period/86400)," days \xa0 \xa0 \ud83d\udd00  \xa0 \xa0",(0,w.Bw)(n.taker.amount,2)," MATIC for ",Math.round(n.taker.period/86400)," days"]}),(0,t.jsx)("td",{children:(0,t.jsx)(m.Z,{onClick:function(){return r=n.id,void e.push("/swap/".concat(r));var r},children:" Details "})})]},r)}))})]})},S=function(){(0,l.useRouter)();var n=(0,h.V9)(),e=(0,f.K)().account,r=n&&n.reverse(),i=n&&e?r.filter((function(n){return n.maker.user===e||n.taker.user===e})):[],a=n&&e?r.filter((function(n){return n.maker.user!==e&&n.taker.user!==e})):[];return n?(0,t.jsxs)("div",{children:[i.length>0&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("h2",{children:"My Swaps"}),(0,t.jsx)("div",{style:{margin:"auto"},children:(0,t.jsx)(g,{swaps:i})})]}),a.length>0&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("h2",{children:i.length>0?"Other Swaps":"Swaps"}),(0,t.jsx)("div",{style:{margin:"auto"},children:(0,t.jsx)(g,{swaps:a})})]}),0===r.length&&(0,t.jsx)(v.Z,{textAlign:"center",children:(0,t.jsx)("h3",{children:"No Swaps"})})]}):(0,t.jsx)(v.Z,{textAlign:"center",sx:{marginTop:10,marginBottom:8},children:"Loading..."})},b=r(1703),N=r(44);function Z(n){var e=n.children,r=n.value,i=n.index,a=(0,o.Z)(n,["children","value","index"]);return(0,t.jsx)("div",(0,s.Z)((0,d.Z)({role:"tabpanel",hidden:r!==i,id:"simple-tabpanel-".concat(i),"aria-labelledby":"simple-tab-".concat(i)},a),{children:r===i&&(0,t.jsx)(v.Z,{sx:{p:3},children:e})}))}var A=function(){var n=(0,u.Z)(c.useState(0),2),e=n[0],r=n[1],i=(0,l.useRouter)().query.selectedTab;(0,c.useEffect)((function(){i&&"swaps"===i&&(console.log("Selected Item ID: ".concat(i)),r(1))}),[i]);return(0,t.jsxs)(v.Z,{sx:{width:"100%"},children:[(0,t.jsx)(v.Z,{sx:{borderBottom:1,borderColor:"divider"},children:(0,t.jsxs)(b.Z,{value:e,onChange:function(n,e){r(e)},"aria-label":"staker tabs",children:[(0,t.jsx)(N.Z,{label:"Offers"},1),(0,t.jsx)(N.Z,{label:"Swaps"},2)]})}),(0,t.jsx)(Z,{value:e,index:0,children:(0,t.jsx)(k,{})},"mainnet"),(0,t.jsx)(Z,{value:e,index:1,children:(0,t.jsx)(S,{})},"sepolia")]})},C=function(){return(0,t.jsx)("div",{className:a().main,children:(0,t.jsx)(A,{})})},y=function(){return(0,t.jsx)("div",{children:(0,t.jsx)(C,{})})}},9873:function(n){n.exports={main:"Main_main__NBUfF"}}},function(n){n.O(0,[211,774,888,179],(function(){return e=8312,n(n.s=e);var e}));var e=n.O();_N_E=e}]);