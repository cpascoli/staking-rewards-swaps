(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[319],{9716:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/swap/[id]",function(){return a(9319)}])},9319:function(e,t,a){"use strict";a.r(t);var r=a(603),s=a(5893),i=a(7294),n=a(1163),d=a(7495),l=a(7979),o=a(5616),c=a(9417),u=a(8456),h=a(5861),w=a(8703),k=a(1737),m=a(3795),x=a(7737),p=a(3111),v=a(2485);t.default=function(){var e,t,a,f=(0,n.useRouter)(),S=f.query.id,j=(0,d.K)(),b=j.chainId,Z=j.account,C=(0,p.jv)(Number(S)),N=(0,r.Z)((0,p.wn)(Number(S)),2),g=N[0],_=N[1],A=(0,r.Z)((0,p.oV)(Number(S)),2),E=A[0],y=A[1],O=(0,p.hh)(b),I=O.settle,T=O.settleState,M=(0,i.useState)(!1),P=M[0],z=M[1],R=(0,i.useState)(!1),q=(R[0],R[1]),B=(0,i.useState)(""),D=B[0],L=B[1];(0,i.useEffect)((function(){console.log(">> OfferDetailPage - useEffect - status:",null===T||void 0===T?void 0:T.status),"Mining"===T.status&&(q(!0),L("")),"Success"===T.status&&(q(!1),z(!0),L("")),"Exception"===T.status&&L(T.errorMessage)}),[null===T||void 0===T?void 0:T.status,null===T||void 0===T||null===(e=T.transaction)||void 0===e?void 0:e.hash]);var V=function(e,t){"clickaway"!==t&&z(!1)};return C?(0,s.jsxs)(o.Z,{sx:{px:1,mt:3},children:[(0,s.jsx)(c.Z,{variant:"outlined",onClick:function(){f.push("/?selectedTab=swaps")},children:"Back"}),(0,s.jsxs)("h1",{children:["Swap ",S]}),C&&(0,s.jsxs)(o.Z,{children:[(0,s.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"space-between"},children:[(0,s.jsx)(v.Z,{swapId:Number(S),side:"Maker",address:C.maker.user,size:C.maker.amount,createdAt:C.maker.createdAt,takenAt:C.taker.createdAt,duration:C.maker.period,shares:C.maker.shares,rewards:E,otherSideRewards:y,isSettled:C.maker.isSettled,isClaimed:C.maker.withdrawal.isClaimed,isOtherSideClaimed:C.taker.withdrawal.isClaimed,canSettle:g,withdrawNonce:C.maker.withdrawal.unbondNonce}),(0,s.jsx)(v.Z,{swapId:Number(S),side:"Taker",address:C.taker.user,size:C.taker.amount,createdAt:C.maker.createdAt,takenAt:C.taker.createdAt,duration:C.taker.period,shares:C.taker.shares,rewards:y,otherSideRewards:E,isSettled:C.taker.isSettled,isClaimed:C.taker.withdrawal.isClaimed,isOtherSideClaimed:C.maker.withdrawal.isClaimed,canSettle:_,withdrawNonce:C.taker.withdrawal.unbondNonce})]}),(0,s.jsxs)(o.Z,{sx:{mt:2},textAlign:"center",hidden:C.maker.isSettled&&C.taker.isSettled,children:[(0,s.jsx)(c.Z,{variant:"contained",color:"primary",disabled:!g&&!_||"Mining"===T.status,onClick:function(){void 0!==Z&&b===l.m4.chainId?(L(""),I(Number(S))):L("Please connect your wallet to Sepolia.")},startIcon:"Mining"===T.status?(0,s.jsx)(u.Z,{size:20}):null,children:"Settle Swap"}),D&&(0,s.jsx)(o.Z,{sx:{paddingTop:1},children:(0,s.jsx)(h.Z,{color:"error",children:D})})]})]}),(0,s.jsx)(w.Z,{open:P,autoHideDuration:1e4,onClose:V,anchorOrigin:{vertical:"top",horizontal:"center"},children:(0,s.jsxs)(k.Z,{onClose:V,severity:"success",sx:{width:"100%"},children:["Swap settled!",(0,s.jsx)("br",{}),"View on block explorer: "," ",(0,s.jsx)(m.Z,{href:(0,x.q)("SEPOLIA",null===T||void 0===T||null===(t=T.transaction)||void 0===t?void 0:t.hash,"transaction"),target:"_blank",children:null===T||void 0===T||null===(a=T.transaction)||void 0===a?void 0:a.hash})]})})]}):(0,s.jsx)(o.Z,{textAlign:"center",sx:{marginTop:10,marginBottom:8},children:"Loading..."})}}},function(e){e.O(0,[231,485,774,888,179],(function(){return t=9716,e(e.s=t);var t}));var t=e.O();_N_E=t}]);