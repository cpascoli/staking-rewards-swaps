(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[319],{9716:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/swap/[id]",function(){return r(9319)}])},9319:function(e,t,r){"use strict";r.r(t);var n=r(603),a=r(5893),i=r(7294),s=r(1163),o=r(7495),l=r(5616),d=r(9417),u=r(8456),c=r(8703),h=r(1737),f=r(3795),m=r(7737),w=r(3111),p=r(2485);t.default=function(){var e,t,r,k=(0,s.useRouter)(),v=k.query.id,b=(0,o.K)(),S=b.chainId,x=(b.account,(0,w.jv)(Number(v))),y=(0,n.Z)((0,w.wn)(Number(v)),2),g=y[0],j=y[1],A=(0,n.Z)((0,w.oV)(Number(v)),2),N=A[0],Z=A[1],_=(0,w.hh)(S),C=_.settle,E=_.settleState,I=(0,i.useState)(!1),T=I[0],O=I[1],M=(0,i.useState)(!1),P=(M[0],M[1]);(0,i.useEffect)((function(){console.log(">> OfferDetailPage - useEffect - status:",null===E||void 0===E?void 0:E.status),"Mining"===E.status&&P(!0),"Success"===E.status&&(P(!1),O(!0))}),[null===E||void 0===E?void 0:E.status,null===E||void 0===E||null===(e=E.transaction)||void 0===e?void 0:e.hash]);var z=function(e,t){"clickaway"!==t&&O(!1)};return x?(0,a.jsxs)("div",{style:{paddingTop:20,paddingBottom:20},children:[(0,a.jsx)(d.Z,{variant:"outlined",onClick:function(){k.push("/?selectedTab=swaps")},children:"Back"}),(0,a.jsxs)("h1",{children:["Swap ",v]}),x&&(0,a.jsxs)(l.Z,{children:[(0,a.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"space-between"},children:[(0,a.jsx)(p.Z,{swapId:Number(v),side:"Maker",address:x.maker.user,size:x.maker.amount,createdAt:x.maker.createdAt,takenAt:x.taker.createdAt,duration:x.maker.period,shares:x.maker.shares,rewards:N,isSettled:x.maker.isSettled,isClaimed:x.maker.withdrawal.isClaimed,canSettle:g,withdrawNonce:x.maker.withdrawal.unbondNonce}),(0,a.jsx)(p.Z,{swapId:Number(v),side:"Taker",address:x.taker.user,size:x.taker.amount,createdAt:x.maker.createdAt,takenAt:x.taker.createdAt,duration:x.taker.period,shares:x.taker.shares,rewards:Z,isSettled:x.taker.isSettled,isClaimed:x.taker.withdrawal.isClaimed,canSettle:j,withdrawNonce:x.taker.withdrawal.unbondNonce})]}),(0,a.jsx)(l.Z,{sx:{mt:2},textAlign:"center",hidden:x.maker.isSettled&&x.taker.isSettled,children:(0,a.jsx)(d.Z,{variant:"contained",color:"primary",disabled:!g&&!j||"Mining"===E.status,onClick:function(){console.log(">>> SwapDetailPage - handleSettleSwap"),C(Number(v))},startIcon:"Mining"===E.status?(0,a.jsx)(u.Z,{size:20}):null,children:"Settle Swap"})})]}),(0,a.jsx)(c.Z,{open:T,autoHideDuration:6e3,onClose:z,children:(0,a.jsxs)(h.Z,{onClose:z,severity:"success",sx:{width:"100%"},children:["Swap settled!",(0,a.jsx)("br",{}),"View on block explorer: "," ",(0,a.jsx)(f.Z,{href:(0,m.q)("SEPOLIA",null===E||void 0===E||null===(t=E.transaction)||void 0===t?void 0:t.hash,"transaction"),target:"_blank",children:null===E||void 0===E||null===(r=E.transaction)||void 0===r?void 0:r.hash})]})})]}):(0,a.jsx)(l.Z,{textAlign:"center",sx:{marginTop:10,marginBottom:8},children:"Loading..."})}},603:function(e,t,r){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"===typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}r.d(t,{Z:function(){return a}})}},function(e){e.O(0,[430,858,485,774,888,179],(function(){return t=9716,e(e.s=t);var t}));var t=e.O();_N_E=t}]);